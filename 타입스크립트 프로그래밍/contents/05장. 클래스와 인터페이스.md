# 5μ¥: ν΄λμ¤μ™€ μΈν„°νμ΄μ¤

- [5μ¥: ν΄λμ¤μ™€ μΈν„°νμ΄μ¤](#5μ¥-ν΄λμ¤μ™€-μΈν„°νμ΄μ¤)
  - [5-1. ν΄λμ¤μ™€ μƒμ†](#5-1-ν΄λμ¤μ™€-μƒμ†)
  - [5-2. super](#5-2-super)
  - [5-3. thisλ¥Ό λ°ν™ νƒ€μ…μΌλ΅ μ‚¬μ©ν•κΈ°](#5-3-thisλ¥Ό-λ°ν™-νƒ€μ…μΌλ΅-μ‚¬μ©ν•κΈ°)
  - [5-4. μΈν„°νμ΄μ¤](#5-4-μΈν„°νμ΄μ¤)
    - [5-4-1. μ„ μ–Έ ν•©μΉ¨](#5-4-1-μ„ μ–Έ-ν•©μΉ¨)
    - [5-4-2. κµ¬ν„](#5-4-2-κµ¬ν„)
    - [5-4-3. μΈν„°νμ΄μ¤ κµ¬ν„ vs. μ¶”μƒ ν΄λμ¤ μƒμ†](#5-4-3-μΈν„°νμ΄μ¤-κµ¬ν„-vs-μ¶”μƒ-ν΄λμ¤-μƒμ†)
  - [5-5. ν΄λμ¤λ” κµ¬μ΅° κΈ°λ° νƒ€μ…μ„ μ§€μ›ν•λ‹¤](#5-5-ν΄λμ¤λ”-κµ¬μ΅°-κΈ°λ°-νƒ€μ…μ„-μ§€μ›ν•λ‹¤)
  - [5-6. ν΄λμ¤λ” κ°’κ³Ό νƒ€μ…μ„ λ¨λ‘ μ„ μ–Έν•λ‹¤](#5-6-ν΄λμ¤λ”-κ°’κ³Ό-νƒ€μ…μ„-λ¨λ‘-μ„ μ–Έν•λ‹¤)
  - [5-7. λ‹¤ν•μ„±](#5-7-λ‹¤ν•μ„±)
  - [5-8. λ―Ήμ¤μΈ](#5-8-λ―Ήμ¤μΈ)
  - [5-10. final ν΄λμ¤ ν‰λ‚΄λ‚΄κΈ°](#5-10-final-ν΄λμ¤-ν‰λ‚΄λ‚΄κΈ°)
  - [5-11. λ””μμΈ ν¨ν„΄](#5-11-λ””μμΈ-ν¨ν„΄)
    - [5-11-1. ν©ν† λ¦¬ ν¨ν„΄](#5-11-1-ν©ν† λ¦¬-ν¨ν„΄)
    - [5-11-2. λΉλ” ν¨ν„΄](#5-11-2-λΉλ”-ν¨ν„΄)

## 5-1. ν΄λμ¤μ™€ μƒμ†

- νƒ€μ…μ¤ν¬λ¦½νΈλ” ν΄λμ¤μ ν”„λ΅νΌν‹°μ™€ λ©”μ„λ“μ— 3 κ°€μ§€ μ ‘κ·Ό ν•μ •μλ¥Ό μ κ³µν•λ‹¤

  - **public**: μ–΄λ””μ—μ„λ‚ μ ‘κ·Όν•  μ μμ (_default_)
  - **protected**: μ΄ ν΄λμ¤μ™€ μ„λΈν΄λμ¤μ μΈμ¤ν„΄μ¤μ—μ„λ§ μ ‘κ·Ό κ°€λ¥ν•¨
  - **private**: μ΄ ν΄λμ¤μ μΈμ¤ν„΄μ¤μ—μ„λ§ μ ‘κ·Όν•  μ μμ

  ```typescript
  type Color = 'Black' | 'White';
  type File = 'A' | 'B' | 'C' | 'D' | 'E' | 'F' | 'G' | 'H';
  type Rank = 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8;

  /**
   * @private μ ‘κ·Ό ν•μ •μλ” μλ™μΌλ΅ λ§¤κ°λ³€μλ¥Ό thisμ— ν• λ‹Ήν•λ©° (eg. file => this.file) κ°€μ‹μ„±μ€ privateμΌλ΅ ν•λ‹¤
  */
  class Position {
    constructor(
      private file: File,
      private rank: Rank
    ) { }
  }

  class Piece {
    protected position: Position // λ§μ°¬κ°€μ§€λ΅ thisμ— ν• λ‹Ή, ν•μ§€λ§ Piece λ° μ„λΈν΄λμ¤ μΈμ¤ν„΄μ¤μ—κ² λ¨λ‘ μ ‘κ·Ό ν—μ©
    constructor(
      prviate readonly color: Color, // ν΄λμ¤ μΈμ¤ν„΄μ¤λ§ μ ‘κ·Ό κ°€λ¥ν•λ©° λ³€κ²½ λ¶κ°€λ¥
      file: File,
      rank: Rank,
    ) {
      this.position = new Position(file, rank);
    }
  }
  ```

- `abstract` ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•λ©΄ μ‚¬μ©μκ°€ μΈμ¤ν„΄μ¤λ¥Ό μ§μ ‘ μƒμ„±ν•μ§€ λ»ν•κ² λ§‰κ³ , ν΄λμ¤λ¥Ό μƒμ†λ°›μ€ ν΄λμ¤λ¥Ό ν†µν•΄μ„λ§ μΈμ¤ν„΄μ¤ν™”ν•  μ μλ„λ΅ ν—μ©ν•  μ μλ‹¤

  ```Typescript
  abstract class Piece {
    constructor(
      //...
    )
  }

  // μ§μ ‘ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•λ ¤κ³  ν•λ©΄ μ—λ¬κ°€ λ°μƒν•λ‹¤
  new Piece('White', 'E', 1); // Error: μ¶”μƒ ν΄λμ¤μ μΈμ¤ν„΄μ¤λ” μƒμ„±ν•  μ μ—†μ
  ```

- λν•, ν•„μ”ν• λ©”μ„λ“λ¥Ό μ¶”μƒ ν΄λμ¤μ— μμ λ΅­κ² μ¶”κ°€ν•  μ μλ‹¤
- μ•„λ μμ μ κ²½μ° `canMoveTo`λΌλ” λ©”μ„λ“λ¥Ό μ£Όμ–΄μ§„ μ‹κ·Έλ‹μ²μ™€ νΈν™λλ„λ΅ κµ¬ν„ν•΄μ•Ό ν•¨μ„ ν•μ„ ν΄λμ¤μ— μ•λ¦¬λ” κ²ƒμ΄λ‹¤

  ```Typescript
  abstract class Piece {
    moveTo(position: Position) {
      this.position = position;
    }

    // *Pieceλ¥Ό μƒμ†λ°›μ•μΌλ‚, canMoveTo λ©”μ„λ“ κµ¬ν„ μ•ν•λ©΄ μ»΄νμΌ νƒ€μ„μ— νƒ€μ… μ—λ¬ λ°μƒ
    abstract canMoveTo(position: Position): boolean
  }
  ```

- Pieceλ¥Ό μƒμ†λ°›μ€ ν•μ„ ν΄λμ¤μ΄μ, `canMoveTo`λ¥Ό κ°€μ§€κ³  μλ” King ν΄λμ¤λ¥Ό λ§λ“¤λ©΄ μ•„λμ™€ κ°™λ‹¤

  ```Typescript
  class Position {
    // ...
    distanceFrom(position: Position) {
      return {
        rank: Math.abs(position.rank - this.rank);
        file: Math.abs(position.file.charCodeAt(0) - this.file.charCodeAt(0));
      }
    }
  }

  class King extends Piece {
    canMoveTo(position: Position) {
      let distance = this.position.distanceFrom(position);
      return distance.rank < 2 && ditsance.file < 2;
    }
  }
  ```

_νƒ€μ…μ¤ν¬λ¦½νΈμ—μ„μ ν΄λμ¤λ¥Ό μ”μ•½ν•μλ©΄ μ•„λμ™€ κ°™λ‹¤ :_

1. class ν‚¤μ›λ“λ΅ ν΄λμ¤λ¥Ό μ„ μ–Έν• ν›„ extends ν‚¤μ›λ“λ΅ λ‹¤λ¥Έ ν΄λμ¤λ¥Ό μƒμ† λ°›μ„ μ μλ‹¤
2. κµ¬μ²΄ ν΄λμ¤μ™€ μ¶”μƒ ν΄λμ¤κ°€ μ΅΄μ¬ν•λ©°, μ¶”μƒ ν΄λμ¤μ κ²½μ° _μ¶”μƒ λ©”μ„λ“μ™€ μ¶”μƒ ν”„λ΅νΌν‹°λ¥Ό κ°€μ§ μ μλ‹¤_
3. λ©”μ„λ“λ” defaultλ΅ publicμ΄μ§€λ§, private, protected, public μ¤‘ ν• κ°€μ§€μ ν•μ •μλ¥Ό κ°€μ§ μ μλ‹¤. λν•, λ©”μ„λ“λ” μΈμ¤ν„΄μ¤ λ©”μ„λ“μ™€ μ •μ  λ©”μ„λ“ λ‘ κ°€μ§€λ΅ κµ¬λ¶„λλ‹¤

   ```
   π’΅ μΈμ¤ν„΄μ¤ vs. μ •μ  λ©”μ„λ“

   1. μ •μ  λ©”μ„λ“λ” μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•μ§€ μ•μ•„λ„ μ‚¬μ© κ°€λ¥ν• λ©”μ„λ“ (μ: Array.isArray(arr))

   2. μΈμ¤ν„΄μ¤ λ©”μ„λ“λ” class prototypeμ— μ†μ†λμ–΄ λ¨λ“  μΈμ¤ν„΄μ¤μ—κ² μƒμ†λλ©°, μΈμ¤ν„΄μ¤λ¥Ό ν†µν•΄ μ‚¬μ©ν•΄μ•Ό ν•¨ (μ: arr.push(4))
   ```

4. ν΄λμ¤λ” μΈμ¤ν„΄μ¤ ν”„λ΅νΌν‹°λ„ κ°€μ§ μ μμΌλ©°, μ΄ ν”„λ΅νΌν‹°λ“¤μ€ private, protected, public μ¤‘ ν• κ°€μ§€ ν•μ •μλ¥Ό κ°–λ”λ‹¤ (λ§μ°¬κ°€μ§€λ΅ publicμ΄ κΈ°λ³Έκ°’). constructorμ λ§¤κ°λ³€μλ‚ ν”„λ΅νΌν‹° μ΄κΈ°μμ—λ„ μ΄λ“¤ ν•μ •μλ¥Ό μ‚¬μ©ν•  μ μλ‹¤.
5. μΈμ¤ν„΄μ¤ ν”„λ΅νΌν‹°λ¥Ό μ„ μ–Έν•  λ• readonlyλ¥Ό μ¶”κ°€ν•  μ μλ‹¤

<br>

## 5-2. super

- constructorμ—μ„λ§ νΈμ¶ν•  μ μλ” `super()` νΉλ³„ν• νƒ€μ…μ μƒμ„±μ νΈμ¶μ€ μμ‹ ν΄λμ¤μ— μƒμ„±μ ν•¨μκ°€ μμΌλ©΄ λ¬΄μ΅°κ±΄ νΈμ¶ν•΄μ•Ό ν•λ‹¤ (μ•ν•λ©΄ λ¶€λ¨ ν΄λμ¤μ™€ μ •μƒμ μΌλ΅ μ—°κ²°λμ§€ μ•μ)
- λν•, μμ‹ μΈμ¤ν„΄μ¤λ” `super`λ¥Ό μ΄μ©ν•΄ λ¶€λ¨ λ²„μ „μ λ©”μ„λ“ νΈμ¶ν•  μ μλ‹¤
  - μλ¥Ό λ“¤μ–΄ μμ‹, λ¶€λ¨ ν΄λμ¤ λ¨λ‘ `getName`μ΄λΌλ” λ©”μ„λ“λ¥Ό κ°€μ§€κ³  μλ‹¤κ³  μΉλ©΄, μμ‹ ν΄λμ¤μ `getName` λ©”μ„λ“κ°€ λ¶€λ¨μ `getName` λ©”μ„λ“λ¥Ό overriding ν•μ§€λ§, `super.getName`μΌλ΅ νΈμ¶ν•λ©΄ λ¶€λ¨ λ²„μ „μ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•  μ μλ‹¤
  - _λ‹¨, super ν‚¤μ›λ“λ΅ λ¶€λ¨μ λ©”μ„λ“μ—λ” μ ‘κ·Όν•  μ μμ§€λ§ ν”„λ΅νΌν‹°μ—λ” μ ‘κ·Όν•  μ μ—†λ‹¤_

<br>

## 5-3. thisλ¥Ό λ°ν™ νƒ€μ…μΌλ΅ μ‚¬μ©ν•κΈ°

- thisλ¥Ό κ°’λΏ μ•„λ‹λΌ νƒ€μ…μΌλ΅λ„ μ‚¬μ©ν•  μ μλ‹¤
- ν΄λμ¤λ¥Ό μ •μν•  λ•λΌλ©΄ λ©”μ„λ“μ λ°ν™ νƒ€μ…μ„ μ§€μ •ν•  λ• this νƒ€μ…μ„ μ μ©ν•κ² μ‚¬μ©ν•  μ μλ‹¤
- μλ¥Ό λ“¤μ–΄ κ°„λ‹¨ν• `Set` ν΄λμ¤λ¥Ό λ§λ“¤μ–΄λ³΄λ©΄ μ•„λμ™€ κ°™μ„ κ²ƒμ΄λ‹¤

  ```Typescript
  class Set {
    has(value: number): boolean {
      // has: Set μΈμ¤ν„΄μ¤κ°€ νΉμ • κ°’μ„ κ°€μ§€κ³  μλ”μ§€ ν™•μΈν•λ” μΈμ¤ν„΄μ¤ λ©”μ„λ“
    }

    add(value: number): Set {
      // add: Set μΈμ¤ν„΄μ¤μ— νΉμ • κ°’μ„ μ¶”κ°€ν• ν›„, λ³€κ²½λ Set μΈμ¤ν„΄μ¤ λ°ν™ν•λ” λ©”μ„λ“
    }
  }
  ```

- `Set` ν΄λμ¤λ¥Ό μƒμ†λ°›λ” `MutableSet` μ„λΈν΄λμ¤λ¥Ό κµ¬ν„ν•λ‹¤κ³  μΉλ©΄, `has` λ©”μ„λ“λ” λ¬Έμ  μ—†μ΄ μƒμ†λ°›μ„ μ μμ§€λ§, `add` λ©”μ„λ“μ κ²½μ° Set μΈμ¤ν„΄μ¤λ¥Ό λ°ν™ν•΄μ•Ό ν•λ‹¤. μ„λΈν΄λμ¤μ—μ„ `add` λ©”μ„λ“λ¥Ό ν„μ¬ μƒνƒ κ·Έλ€λ΅ μƒμ†λ°›μ•„ μ‚¬μ©ν•λ©΄ `MutableSet` λ€μ‹  `Set` μΈμ¤ν„΄μ¤λ¥Ό λ°ν™ν–”λ‹¤.
- `MutableSet`μ—μ„λ” μƒλ΅μ΄ `add` λ©”μ„λ“λ΅ μ¤λ²„λΌμ΄λ“ν•΄μ•Ό ν•λ‹¤.

  ```Typescript
  class MutableSet extends Set {
    delete(value: number): boolean {
      // MutableSet μΈμ¤ν„΄μ¤λ§ κ°€μ§€κ³  μλ” delete λ©”μ„λ“
    }

    add(value: number): MutableSet {
      // SetμΌλ΅λ¶€ν„° μƒμ†λ°›μ€ add λ©”μ„λ“ μ¤λ²„λΌμ΄λ“
    }
  }
  ```

- ν•μ§€λ§ μ΄λ ‡κ² ν•λ©΄ λ¨λ“  μ„λΈν΄λμ¤λ” thisλ¥Ό λ°ν™ν•λ” λ¨λ“  λ©”μ„λ“μ μ‹κ·Έλ‹μ²λ¥Ό μ¤λ²„λΌμ΄λ“ν•΄μ•Ό ν•λ―€λ΅, ν΄λμ¤μ™€ μƒμ†κµ¬μ΅°λ¥Ό μ΄μ©ν•λ” κ²ƒμ μλ―Έκ°€ μ—†μ–΄μ΅λ‹¤
- λ€μ‹ , λ¶€λ¨ν΄λμ¤μ—μ„ λ°ν™ νƒ€μ…μ„ thisλ΅ μ§€μ •ν•λ©΄ μ΄ λ²κ±°λ΅μ΄ μ‘μ—…μ„ νƒ€μ…μ¤ν¬λ¦½νΈκ°€ μ•μ•„μ„ ν•΄μ¤€λ‹¤

  ```Typescript
  class Set {
    has(value: number): boolean {
      // ...
    }

    add(value: number): this {
      // Setμ thisλ” Set μΈμ¤ν„΄μ¤λ¥Ό, MutableSetμ thisλ” MutableSetμ μΈμ¤ν„΄μ¤λ¥Ό μλ™μΌλ΅ κ°€λ¦¬ν‚΄
      // μ¦‰, MutableSetμ—μ„ add λ©”μ„λ“λ¥Ό μ¤λ²„λΌμ΄λ“ν•  ν•„μ” μ—†μ–΄μ§
    }
  }
  ```

<br>

## 5-4. μΈν„°νμ΄μ¤

- ν΄λμ¤λ” μ£Όλ΅ μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄ μ‚¬μ©ν•  λ•κ°€ λ§λ‹¤
- `type` ν‚¤μ›λ“μ²λΌ μΈν„°νμ΄μ¤λ„ νƒ€μ…μ— μ΄λ¦„μ„ μ§€μ–΄μ£Όλ” μλ‹¨μ΄μ§€λ§, μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ©΄ νƒ€μ…μ„ λ” κΉ”λ”ν•κ² μ •μν•  μ μλ‹¤
- νƒ€μ…κ³Ό μΈν„°νμ΄μ¤μ μ°¨μ΄λ” λ‹¤μκ³Ό κ°™λ‹¤

  1. νƒ€μ… λ³„μΉ­μ μ¤λ¥ΈνΈμ—λ” νƒ€μ… ν‘ν„μ‹(νƒ€μ…, κ·Έλ¦¬κ³  &, | λ“±μ νƒ€μ… μ—°μ‚°μ)λ¥Ό ν¬ν•¨ν• λ¨λ“  νƒ€μ…μ΄ λ“±μ¥ν•  μ μμ§€λ§, **μΈν„°νμ΄μ¤μ μ¤λ¥Έ νΈμ—λ” λ°λ“μ‹ ν•νƒκ°€ λ‚μ™€μ•Ό ν•λ‹¤**.
  2. μΈν„°νμ΄μ¤λ¥Ό μƒμ†ν•  λ• νƒ€μ…μ¤ν¬λ¦½νΈλ” μƒμ†λ°›λ” μΈν„°νμ΄μ¤μ νƒ€μ…μ— μƒμ„ μΈν„°νμ΄μ¤λ¥Ό ν• λ‹Ήν•  μ μλ”μ§€ ν™•μΈν•λ‹¤

  ```Typescript
  interface A {
    good(x: number): string
    bad(x: number): string
  }

  interface B extends A {
    good(x: string | number): string
    bad(x: string): string // Error: number νƒ€μ…μ€ string νƒ€μ…μ— ν• λ‹Ήν•  μ μ—†μ
  }
  ```

  3. μ΄λ¦„κ³Ό λ²”μ„κ°€ κ°™μ€ μΈν„°νμ΄μ¤κ°€ μ—¬λ¬ κ° μλ‹¤λ©΄ μ΄λ“¤μ΄ μλ™μΌλ΅ ν•©μ³μ§„λ‹¤ (**μ„ μ–Έ ν•©μΉ¨**)

### 5-4-1. μ„ μ–Έ ν•©μΉ¨

- μ„ μ–Έ ν•©μΉ¨<sup>declaration merging</sup>μ€ μ»΄νμΌλ¬κ°€ κ°™μ€ μ΄λ¦„μΌλ΅ μ„ μ–Έλ κ°λ³„μ μΈ μ„ μ–Έ λ‘ κ°λ¥Ό ν•λ‚μ μ •μλ΅ ν•©μΉλ” κ²ƒμ„ μλ―Έν•λ‹¤

  ```Typescript
  // 1. User λΌλ” interfaceλ” ν• κ°μ ν•„λ“('name')μ„ κ°€μ§€κ³  μμ
  interface User {
    name: string
  }

  // 2. μ΄μ  UserλΌλ” interfaceλ” λ‘ κ°μ ν•„λ“('name, age')λ¥Ό κ°€μ§€κ³  μμ
  interface User {
    age: number
  }

  // 3. Userκ°€ μ„ μ–Έ ν•©μΉ¨λμ—κΈ° λ•λ¬Έμ— μ—λ¬κ°€ λ°μƒν•μ§€ μ•μ
  let a: User = {
    name: 'James',
    age: 29
  }
  ```

- κ°™μ€ λ΅μ§μ„ `type` ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•΄μ„ ν‘ν„ν•λ©΄ μ¶©λμ΄ μΌμ–΄λ‚κ² λλ‹¤

  ```Typescript
  type User = { name: string };
  type User = { age: number }; // Error: μ¤‘λ³µλ μ‹λ³„μ 'User'
  ```

- μ„ μ–Έ ν•©μΉ¨μ„ ν†µν•΄ λ™λ…μ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ”λΌλ„, ν”„λ΅νΌν‹°μ νƒ€μ… κ°„μ μ¶©λμ΄ μΌμ–΄λ‚λ©΄ μ—λ¬κ°€ λ°μƒν•λ‹¤

  ```Typescript
  interface User { age: string };
  interface User { age: number }; // Error: ν”„λ΅νΌν‹° ageλ” λ°λ“μ‹ string νƒ€μ…μ΄μ–΄μ•Ό λ¨
  ```

- λν• μ λ„¤λ¦­μ„ μ„ μ–Έν• μΈν„°νμ΄μ¤λ“¤μ κ²½μ°, μ λ„¤λ¦­λ“¤μ μ„ μ–Έ λ°©λ²•κ³Ό μ΄λ¦„κΉμ§€ λ‘κ°™μ•„μ•Ό ν•©μΉ  μ μλ‹¤

  ```Typescript
  interface User<Age extends number> { age: Age }
  interface User<Age extends string> { age: Age } // Error: Userμ λ¨λ“  μ„ μ–Έμ€ κ°™μ€ νƒ€μ… λ§¤κ°λ³€μλ¥Ό κ°€μ Έμ•Ό ν•¨
  ```

### 5-4-2. κµ¬ν„

- ν΄λμ¤λ¥Ό μ„ μ–Έν•  λ• `implements`λΌλ” ν‚¤μ›λ“λ¥Ό μ΄μ©ν•΄ νΉμ • μΈν„°νμ΄μ¤λ¥Ό λ§μ΅± μ‹ν‚΄μ„ ν‘ν„ν•  μ μλ‹¤

  ```Typescript
  interface Animal {
    eat(food: string): void
    sleep(hours: number): void
  }

  class Cat implements Animal {
    eat(food: string) {
      console.info(`Ate some ${food}, Mmm!`);
    }

    sleep(hours: number) {
      console.info(`Slept for ${hours} hours!`);
    }
  }
  ```

- Catμ€ Animalμ΄ μ„ μ–Έν•λ” λ¨λ“  λ©”μ„λ“λ¥Ό κµ¬ν„ν•΄μ•Ό ν•λ©°, ν•„μ”ν•λ©΄ λ©”μ„λ“λ‚ ν”„λ΅νΌν‹°λ¥Ό μ¶”κ°€λ΅ κµ¬ν„ν•  μ μλ‹¤
- μΈν„°νμ΄μ¤λ΅ μΈμ¤ν„΄μ¤ ν”„λ΅νΌν‹°λ¥Ό μ •μν•  μ μμ§€λ§, κ°€μ‹μ„± ν•μ •μ(private, protected, public)λ” μ„ μ–Έν•  μ μ—†μΌλ©°, static ν‚¤μ›λ“λ„ μ‚¬μ©ν•  μ μ—†λ‹¤. readonlyλ΅ μ„¤μ •ν•  μλ” μλ‹¤.
- λν•, ν• ν΄λμ¤κ°€ ν•λ‚μ μΈν„°νμ΄μ¤λ§ κµ¬ν„ν•  μ μλ” κ²ƒμ€ μ•„λ‹λ―€λ΅ ν•„μ”ν•λ©΄ μ—¬λ¬ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•  μ μλ‹¤

  ```Typescript
  interface Animal {
    readonly name: string,
    eat(food: string): void,
    sleep(hours: number): void
  }

  interface Feline {
    meow(): void
  }

  class Cat implements Animal, Feline {
    name = 'Whiskers'

    eat(food: string) {
      console.info(`Ate some ${food}, Mmm!`);
    }

    sleep(hours: number) {
      console.info(`Slept for ${hours} hours!`);
    }

    meow() {
      console.info('Meowwww!');
    }
  }
  ```

### 5-4-3. μΈν„°νμ΄μ¤ κµ¬ν„ vs. μ¶”μƒ ν΄λμ¤ μƒμ†

- μΈν„°νμ΄μ¤λ” μ•„λ¬΄λ° μλ°”μ¤ν¬λ¦½νΈ μ½”λ“λ¥Ό λ§λ“¤μ§€ μ•μΌλ©°, μ»΄νμΌ νƒ€μ„μ—λ§ μ΅΄μ¬ν•μ§€λ§, μ¶”μƒ ν΄λμ¤λ” λ°νƒ€μ„μ μλ°”μ¤ν¬λ¦½νΈ ν΄λμ¤ μ½”λ“λ¥Ό λ§λ“ λ‹¤
- λ°λ©΄ μ¶”μƒ ν΄λμ¤λ” κΈ°λ¥μ΄ λ” ν’λ¶€ν•λ‹¤. μλ΅, μƒμ„±μ ν•¨μμ™€ κΈ°λ³Έ κµ¬ν•λ κ°€μ§ μ μμΌλ©°, ν”„λ΅νΌν‹°μ™€ λ©”μ„λ“μ— μ ‘κ·Ό ν•μ •μλ¥Ό μ§€μ •ν•  μ μλ‹¤ (λ¨λ‘ μΈν„°νμ΄μ¤μ—μ„λ” μ κ³µλμ§€ μ•μ)
- _μ—¬λ¬ ν΄λμ¤μ—μ„ κ³µμ ν•λ” κµ¬ν„μ΄λΌλ©΄ μ¶”μƒ ν΄λμ¤λ¥Ό μ‚¬μ©ν•κ³ , κ°€λ³κ² ν΄λμ¤μ ν•νƒλ¥Ό μ •μν•  λ•λ” μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ μΆ‹λ‹¤_

<br>

## 5-5. ν΄λμ¤λ” κµ¬μ΅° κΈ°λ° νƒ€μ…μ„ μ§€μ›ν•λ‹¤

- νƒ€μ…μ¤ν¬λ¦½νΈλ” ν΄λμ¤λ¥Ό λΉ„κµν•  λ• λ‹¤λ¥Έ νƒ€μ…κ³Ό λ‹¬λ¦¬ μ΄λ¦„μ΄ μ•„λ‹λΌ κµ¬μ΅°λ¥Ό κΈ°μ¤€μΌλ΅ μ‚Όλ”λ‹¤

  ```Typescript
  class Zebra {
    trot() { /* ... */ }
  }

  class Poodle {
    trot() { /* ... */ }
  }

  function ambleAround(animal: Zebra) {
    animal.trot();
  }

  const zebra = new Zebra;
  const poodle = new Poodle;

  /**
   * νƒ€μ…μ¤ν¬λ¦½νΈ μ…μ¥μ—μ„λ” Zebra, Poodle λ‘ ν΄λμ¤ λ¨λ‘ `.trot`μ„ κµ¬ν„ν•λ©° μ„λ΅ νΈν™λλ‹¤
   * Zebra ν΄λμ¤λ¥Ό λ°›λ” `ambleAround` ν•¨μμ— Zebra λ€μ‹  Poodleμ„ μ „λ‹¬ν•΄λ„ μ•„λ¬΄ λ¬Έμ  μ—†λ‹¤
  */
  ambleAround(zebra); // OK
  ambleAround(poodle); // OK
  ```

- λ‹¨, ν΄λμ¤μ— private/protected ν•„λ“κ°€ μκ³ , ν• λ‹Ήν•λ ¤λ” ν΄λμ¤ λ° μ„λΈν΄λμ¤μ μΈμ¤ν„΄μ¤κ°€ μ•„λ‹λΌλ©΄ ν• λ‹Ήν•  μ μ—†λ‹¤κ³  νμ •ν•λ‹¤

  ```Typescript
  class A {
    private x = 1
  }

  class B extends A {
    // ...
  }

  function randomFunc(param: A) {
    // ...
  }

  randomFunc(new A); // OK
  randomFunc(new B); // OK

  // 'A'μ ν”„λ΅νΌν‹°λ” privte μ΄μ§€λ§ { x: number }λ” privateμ΄ μ•„λ‹λ―€λ΅ μ‹¤ν¨
  randomFunc({ x: 1}) // Error!
  ```

<br>

## 5-6. ν΄λμ¤λ” κ°’κ³Ό νƒ€μ…μ„ λ¨λ‘ μ„ μ–Έν•λ‹¤

- νƒ€μ…μ¤ν¬λ¦½νΈμ—μ„ κ°’κ³Ό νƒ€μ…μ€ λ³„λ„μ λ„¤μ„μ¤νμ΄μ¤μ— μ΅΄μ¬ν•λ‹¤
- μ‚¬μ© λ°©λ²•μ— λ”°λΌ νƒ€μ…μ¤ν¬λ¦½νΈκ°€ μ•μ•„μ„ κ°’ λλ” νƒ€μ…μΌλ΅ ν•΄μ„ν•λ‹¤

  ```Typescript
  if (typeOrValue + 1 > 3); // κ°’μΌλ΅ μ¶”λ΅ 

  let x: typeOrValue = 3; // νƒ€μ…μΌλ΅ μ¶”λ΅ 
  ```

- ν•μ§€λ§ ν΄λμ¤μ™€ μ—΄κ±°ν•μ€ νΉλ³„ν•κ² κ°’ λ„¤μ„μ¤νμ΄μ¤μ— κ°’μ„, νƒ€μ… λ„¤μ„μ¤νμ΄μ¤μ— νƒ€μ…μ„ λ™μ‹ μƒμ„±ν•λ‹¤

  ```Typescript
  class C { /* ... */ }

  let c: C = new C;

  enum E { F, G}

  let e: E = E.F
  ```

<br>

## 5-7. λ‹¤ν•μ„±

- ν•¨μμ™€ νƒ€μ…μ²λΌ, ν΄λμ¤μ™€ μΈν„°νμ΄μ¤λ„ κΈ°λ³Έκ°’κ³Ό μƒν•/ν•ν• μ„¤μ •μ„ ν¬ν•¨ν• λ‹¤μ–‘ν• μ λ„¤λ¦­ νƒ€μ… λ§¤κ°λ³€μ κΈ°λ¥μ„ μ§€μ›ν•λ‹¤
- μ λ„¤λ¦­ νƒ€μ…μ λ²”μ„λ” ν΄λμ¤λ‚ μΈν„°νμ΄μ¤κ°€ λκ² ν•  μλ„ μκ³  νΉμ • λ©”μ„λ“λ΅ ν•μ •ν•  μλ„ μλ‹¤

  ```Typescript
  // 1. classμ™€ μ λ„¤λ¦­μ„ μ„ μ–Έν–μΌλ―€λ΅ ν΄λμ¤ μ „μ²΄μ—μ„ νƒ€μ…μ„ μ‚¬μ©ν•  μ μλ‹¤ (MyMapμ λ¨λ“  λ©”μ„λ“ λ° ν”„λ΅νΌν‹°)
  class MyMap<K, V> {
    // 2. μƒμ„±μ ν•¨μμ—λ” μ λ„¤λ¦­ νƒ€μ…μ„ μ„ μ–Έν•  μ μ—†λ‹¤. constructor λ€μ‹  class μ„ μ–Έμ— μ‚¬μ©ν•΄μ•Ό ν•λ‹¤
    constructor(initialKey: K, initialValue: V) {
      // ...
    }

    // 3. classλ΅ ν•μ •λ νƒ€μ…μ€ ν΄λμ¤ λ‚΄λ¶€μ μ–΄λ””μ—μ„λ‚ μ‚¬μ© κ°€λ¥ν•λ‹¤
    get(key: K): V {
      // ...
    }

    set(key: K, value: V): void {
      // ...
    }

    // 4. μΈμ¤ν„΄μ¤ λ©”μ„λ“λ” ν΄λμ¤ μμ¤€μ μ λ„¤λ¦­μ„ μ‚¬μ©ν•  μ μμΌλ©°, μμ‹ λ§μ μ λ„¤λ¦­ νƒ€μ… (V1, K1)μ„ μ¶”κ°€λ΅ μ„ μ–Έν•  μ μλ‹¤
    merge<K1, V1>(map: MyMap<K1, V1>): MyMap<K | K1, V | V1> {
      // ...
    }

    // 5. μ •μ  λ©”μ„λ“λ” class μμ¤€μ μ λ„¤λ¦­μ„ μ‚¬μ©ν•  μ μ—†λ‹¤
    // 5a. ofλ” 1μ—μ„ μ„ μ–Έν• K, Vμ— μ ‘κ·Όν•  μ μ—†κ³  μμ‹ λ§μ K, Vλ¥Ό μ§μ ‘ μ„ μ–Έν–λ‹¤
    static of<K, V>(k: K, v: V): MyMap<K, V> {
      // ...
    }
  }
  ```

- μƒλ΅μ΄ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•  λ•λ” μ λ„¤λ¦­μ— κµ¬μ²΄ νƒ€μ…μ„ λ…μ‹ν•κ±°λ‚, νƒ€μ…μ¤ν¬λ¦½νΈκ°€ νƒ€μ…μ„ μ¶”λ΅ ν•λ„λ΅ ν•  μ μλ‹¤

  ```Typescript
  let a = new MyMap<string, number>('k', 1); // λ…μ‹: MyMap<string, number>
  let b = new MyMap('k', true); // μ¶”λ΅ : MyMap<string, boolean>
  ```

- μΈν„°νμ΄μ¤μ—μ„λ„ μ λ„¤λ¦­μ„ μ‚¬μ©ν•  μ μλ‹¤

  ```Typescript
  interface MyMap<K, V> {
    get(key: K): V
    set(key: K, value: V): void
  }
  ```

<br>

## 5-8. λ―Ήμ¤μΈ

- λ―Ήμ¤μΈ<sup>mixin</sup>μ€ ν΄λμ¤ Aκ°€ ν΄λμ¤ Bλ¥Ό ν™•μ¥ν•΄μ„ κΈ°λ¥μ„ μƒμ†λ°›λ” κ²ƒμ΄ μ•„λ‹λΌ, ν•¨μ Bκ°€ ν΄λμ¤ Aλ¥Ό λ°›κ³  κΈ°λ¥μ΄ μ¶”κ°€λ μƒλ΅μ΄ ν΄λμ¤λ¥Ό λ°ν™ν•λ” κ²ƒμ΄λ‹¤.

```
π’΅ λ―Ήμ¤μΈ (mixin)

1. μƒμ„±μ(constructor)λ¥Ό λ°›μ
2. μƒμ„±μλ¥Ό ν™•μ¥ν•μ—¬ μƒ κΈ°λ¥ μ¶”κ°€ν• ν΄λμ¤ μƒμ„±
3. μƒ ν΄λμ¤ λ°ν™
```

```Typescript
// 1. λ¨λ“  μƒμ„±μλ¥Ό ν‘ν„ν•λ” ClassConstructor νƒ€μ… μ„ μ–Έ
type ClassConstructor = new (...args: any[]) => {};

/**
 * 2. ν• κ°μ λ§¤κ°λ³€μ Cλ§ λ°›λ” withEZDebug λ―Ήμ¤μΈ ν•¨μ
 * extendsλ΅ κ°•μ ν–λ“―μ΄ Cλ” μµμ†ν• ν΄λμ¤ μƒμ„±μμ—¬μ•Ό ν•λ‹¤
 */
function withEZDebug<C extends ClassConstructor>(Class: C) {
  // 3. μƒμ„±μλ¥Ό μΈμλ΅ λ°›μ•„ μƒμ„±μλ¥Ό λ°ν™ν•λ” ν•¨μμ΄λ―€λ΅ μµλ… ν΄λμ¤ μƒμ„±μ λ°ν™
  return class extends Class {
    // 4. λ§¤κ°λ³€μλ΅ λ°›λ” ν΄λμ¤κ°€ λ°›λ” μΈμλ” λ‹¤ λ°›μ„ μ μμ–΄μ•Ό ν•λ‹¤
    constructor(...args: any[]) {
      // 5. μµλ… ν΄λμ¤λ” λ‹¤λ¥Έ ν΄λμ¤λ¥Ό μƒμ†λ°›μΌλ―€λ΅ Classμ μƒμ„±μλ¥Ό νΈμ¶ν•΄μ•Ό ν•¨
      super(...args)
    }
  }
}

// * constructor λ΅μ§μ΄ λ”°λ΅ μ—†λ” κ²½μ° 4, 5λ² μ¤ν…μ€ λ„μ–΄κ°€λ„ λλ‹¤
```

<br>

## 5-10. final ν΄λμ¤ ν‰λ‚΄λ‚΄κΈ°

- κ°μ²΄μ§€ν–¥μ–Έμ–΄λ“¤μ—μ„ `final` ν‚¤μ›λ“λ” ν΄λμ¤λ‚ λ©”μ„λ“λ¥Ό ν™•μ¥ν•κ±°λ‚ μ¤λ²„λΌμ΄λ“ν•  μ μ—†κ² λ§λ“λ” κΈ°λ¥μ΄λ‹¤
- νƒ€μ…μ¤ν¬λ¦½νΈμ—μ„λ” λΉ„κ³µκ° μƒμ„±μ(private constructor)λ΅ final ν΄λμ¤λ¥Ό ν‰λ‚΄λ‚Ό μ μλ‹¤
- μƒμ„±μλ¥Ό privateμΌλ΅ μ„ μ–Έν•λ©΄ newλ΅ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•κ±°λ‚ ν΄λμ¤λ¥Ό ν™•μ¥ν•  μ μ—†κ² λλ‹¤
  ```Typescript
  class MesageQueue {
    private constructor(private messages: string[]) { /* ... */ }
  }
  ```
- ν•μ§€λ§ μ΄λ ‡κ² constructorλ§ privateμΌλ΅ μ„ μ–Έν•λ” κ²½μ°, μƒμ†μ„ λ§‰λ” κ²ƒμ€ λ¬Όλ΅  μΈμ¤ν„΄μ¤ μƒμ„±λ„ λ¶κ°€ν•΄μ§„λ‹¤ (λ°λ€λ΅ final ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•λ©΄ μƒμ†λ§ λ§‰μ„ λΏ, μΈμ¤ν„΄μ¤λ” μ •μƒ μƒμ„± κ°€λ¥ν•λ‹¤)
- μ΄λ¥Ό μ„ν•΄ ν•΄λ‹Ή ν΄λμ¤λ¥Ό λ°ν™ν•λ” μƒλ΅μ΄ μ •μ  λ©”μ„λ“λ¥Ό κµ¬ν„ν•΄λ‘λ©΄ λλ‹¤

  ```Typescript
  class MessageQueue {
    private constructor(private messages: string[]) { /* ... */ }

    static create(messages: string[]) {
      return new MessageQueue(messages);
    }
  }

  MessageQueue.create([]); // MessageQueue

  class BadQueue extends MessageQueue { } // Error: MessageQueue ν΄λμ¤λ¥Ό ν™•μ¥ν•  μ μ—†μ
  ```

<br>

## 5-11. λ””μμΈ ν¨ν„΄

### 5-11-1. ν©ν† λ¦¬ ν¨ν„΄

- ν©ν† λ¦¬ ν¨ν„΄μ€ μ–΄λ–¤ κ°μ²΄λ¥Ό λ§λ“¤μ§€ μ „μ μΌλ΅ ν©ν† λ¦¬μ— μ„μ„ν•λ‹¤

  ```Typescript
  type Shoe = {
    purpose: string
  }

  class BalletFlat implements Shoe {
    purpose = 'dancing'
  }

  class Boot implements Shoe {
    purpose = 'woodcutting'
  }

  class Sneaker implements Shoe {
    purpose = 'walking'
  }

  let Shoe = {
    create(type: 'balletFlat' | 'boot' | 'sneaker'): Shoe {
      swtich(type) {
        case 'balletFlat': return new BalletFlat
        case 'boot': return new Boot
        case 'sneaker': return new Sneaker
      }
    }
  }
  ```

- `Shoe` ν©ν† λ¦¬λ¥Ό μ‚¬μ©ν•κΈ° μ„ν•΄μ„λ” λ‹¨μν `.create` ν•¨μλ¥Ό νΈμ¶ν•λ©΄ λλ‹¤
  ```Typescript
  Shoe.create('boot');
  ```

### 5-11-2. λΉλ” ν¨ν„΄

- λΉλ” ν¨ν„΄μΌλ΅ κ°μ²΄μ μƒμ„±κ³Ό κ°μ²΄ κµ¬ν„ λ°©μ‹μ„ λ¶„λ¦¬ν•  μ μλ‹¤

  ```Typescript
  class RequestBuilder {
    private url: string | null = null
    private method: 'get' | 'post' | null = null
    private data: object | null = null

    setUrl(url: string): this {
      this.url = url;
      return this;
    }

    setMethod(method: 'get' | 'post'): this {
      this.method = method;
      return this;
    }

    setData(data: object): this {
      this.data = data;
      return this;
    }
  }
  ```
